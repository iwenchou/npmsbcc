<!DOCTYPE html>
<html>
<head>
    <title>故宮南院智慧客服</title>
    <script>
        function generateResponse() {
            var category = document.getElementById("category").value;
            var feedback = document.getElementById("feedback").value;
            var investigation = document.getElementById("investigation").value;
            

            // 發送 POST 請求到 generate_response 路由
            fetch("/generate_response", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    category: category,
                    feedback: feedback,
                    investigation: investigation
                })
            })
            .then(response => response.json())
            .then(data => {
                var responseContainer = document.getElementById("response-container");
                responseContainer.textContent = data.response;
            });
        }
    </script>
</head>
<body>
    <h1>故宮南院智慧客服</h1>
    <form method="POST" action="/generate_response">
        <label for="category">請選擇觀眾意見類別：</label>
        <select name="category" id="category">
            <option value="設施">設施</option>
            <option value="展覽">展覽</option>
            <option value="服務">服務</option>
        </select><br><br>
        <label for="feedback">請輸入觀眾意見內容：</label><br>
        <textarea name="feedback" id="feedback" rows="4" cols="50"></textarea><br><br>
        <label for="investigation">請輸入業管單位調查結果：</label><br>
        <textarea name="investigation" id="investigation" rows="4" cols="50"></textarea><br><br>
        <input type="submit" value="生成回應" onclick="generateResponse(); return false;">
    </form>
    <div id="response-container"></div>
</body>
</html>
